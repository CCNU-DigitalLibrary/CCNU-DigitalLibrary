import matplotlib.pyplot as plt
from utils.tools import draw_range
# Precision Recall Curve data
#
# pr_data = {
#     #book 16bits
# "MLDHN":[[0.948, 0.9258379999999999, 0.913003, 0.8889546666666668, 0.7923020000000001, 0.6988388, 0.6192346666666666, 0.5572628571428573, 0.50843175, 0.4686126666666667, 0.435424, 0.40713963636363637, 0.3801036666666667, 0.3558043076923077, 0.3349722857142857, 0.31769546666666665, 0.29783950000000003, 0.2803195294117647, 0.26474622222222216, 0.25081221052631575, 0.2382716],[0.00044711770527646876, 0.2170170224943431, 0.4247675522232894, 0.6126012698397971, 0.7118757288884372, 0.7716786108585074, 0.8110075660916045, 0.8430372698996216, 0.873165928542614, 0.8996459788531065, 0.9239334989190101, 0.9462460582628847, 0.9613128740787507, 0.973485078394413, 0.98544197255373, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]],
# "DBDH":[[0.908, 0.9130659999999999, 0.8997029999999999, 0.882856, 0.7964850000000001, 0.7143632, 0.638169, 0.5782705714285714, 0.5262732499999999, 0.48203955555555555, 0.44482679999999997, 0.4128449090909091, 0.38449716666666667, 0.3585244615384615, 0.33616128571428566, 0.31769546666666665, 0.2978395, 0.2803195294117647, 0.26474622222222227, 0.2508122105263158, 0.2382716],[0.00042906836835027206, 0.21405796256772008, 0.4192934828731231, 0.6100997550673782, 0.7174490073714406, 0.7896721331179142, 0.8354254802688956, 0.873401695843786, 0.9020346190147102, 0.9240679061412811, 0.943151475340128, 0.959195330619812, 0.971927600979805, 0.9804139501452446, 0.9885288368463516, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]],
# "DSH":[[0.857, 0.776358, 0.747922, 0.7159146666666667, 0.6494475, 0.5856515999999999, 0.5346436666666667, 0.49702771428571424, 0.464669, 0.4327937777777777, 0.404366, 0.3801414545454545, 0.36004499999999995, 0.344022923076923, 0.3303385714285714, 0.31769546666666665, 0.29783950000000003, 0.28031952941176475, 0.26474622222222216, 0.2508122105263158, 0.2382716],[0.000392142474418506, 0.17827792632603087, 0.33973212375771256, 0.4827212370401248, 0.5790291568115353, 0.6516205092221499, 0.712672482252121, 0.77098332837224, 0.8193703153431415, 0.8536738477051258, 0.8819333814382553, 0.9079711500406266, 0.9321659595370293, 0.9558375877141952, 0.9794958503246307, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]],
# "HashNet":[[0.902, 0.875108, 0.8547879999999999, 0.8228346666666666, 0.749923, 0.6688828000000001, 0.5929026666666666, 0.5363188571428572, 0.495047, 0.4618857777777778, 0.4357158, 0.41183272727272724, 0.3854666666666667, 0.35922184615384617, 0.3366395714285715, 0.31769546666666665, 0.2978395, 0.2803195294117647, 0.26474622222222216, 0.25081221052631575, 0.2382716],[0.00043018261341785545, 0.20486206177156419, 0.395209761894308, 0.5628372721234336, 0.6680562825277447, 0.7323148367051036, 0.770424929941073, 0.8074448367767036, 0.846957112563774, 0.8832952788509428, 0.9201696209944784, 0.9538344039693475, 0.9724993768334389, 0.9810613944232464, 0.9895485422611237, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]],
# "DPN":[[0.852, 0.7024659999999999, 0.631112, 0.5854826666666667, 0.547952, 0.49863, 0.455738, 0.41917971428571427, 0.39268475, 0.37226355555555557, 0.358414, 0.34599945454545455, 0.3352233333333334, 0.32861430769230765, 0.3226242857142857, 0.31769546666666665, 0.2978395, 0.28031952941176475, 0.2647462222222222, 0.25081221052631575, 0.23827159999999997],[0.00039576005976414306, 0.15589388749178032, 0.275293879265897, 0.3763096738504246, 0.4633723312728107, 0.5259911170899868, 0.5780191574096679, 0.6226158754825593, 0.6684507438540459, 0.714335142493248, 0.7635922877788544, 0.8090272860229015, 0.8521645482778549, 0.9008128350973129, 0.9489357335567474, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]],
# "ISDH":[[0.772, 0.7900960000000001, 0.7928620000000001, 0.7946559999999999, 0.7505585000000001, 0.6431604, 0.5608926666666666, 0.5019271428571429, 0.460923, 0.4287413333333333, 0.4018238, 0.3793307272727273, 0.3602175, 0.34357753846153843, 0.3293761428571429, 0.31769546666666665, 0.2978395, 0.2803195294117647, 0.2647462222222222, 0.25081221052631575, 0.23827159999999997],[0.0003440880844573257, 0.1799156615936663, 0.3608766007972881, 0.5418856986286119, 0.6708934837207198, 0.7129379664100707, 0.7436080827414989, 0.7739688435643911, 0.8084834465458989, 0.8393608282804489, 0.867741330564022, 0.8953019179999828, 0.9214659268260003, 0.9467274013757706, 0.9723016093969346, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]],
# }

# pr_data = {
#     #book 32its
# "MLDHN":[[0.942, 0.9260139999999999, 0.9149729999999999, 0.892356, 0.7999234999999999, 0.7111271999999998, 0.6326696666666667, 0.5745468571428571, 0.5267645, 0.48153088888888884, 0.4432944, 0.41076654545454544, 0.38301783333333334, 0.3576203076923077, 0.33551271428571433, 0.31769546666666665, 0.2978395, 0.28031952941176475, 0.26474622222222216, 0.2508122105263158, 0.2382716],[0.0004478621088055661, 0.2165922455236432, 0.424991259968956, 0.6143479840885848, 0.7181318982783705, 0.7834168945476413, 0.8259337819162756, 0.8657010571211576, 0.8995583993420004, 0.9201623790636658, 0.9374221989922226, 0.9526872034519911, 0.9671002387106419, 0.9772395998835564, 0.9865579329729081, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]],
# "DBDH":[[0.897, 0.9149539999999999, 0.902561, 0.8831073333333334, 0.7992270000000001, 0.7167168, 0.644895, 0.5823145714285715, 0.52962, 0.4833286666666667, 0.444622, 0.4118021818181818, 0.3838383333333334, 0.3578804615384616, 0.3358894285714286, 0.31769546666666665, 0.29783950000000003, 0.28031952941176475, 0.2647462222222222, 0.2508122105263158, 0.23827159999999997],[0.00042299214816011955, 0.21460984021669718, 0.420322496082983, 0.6101738429339603, 0.7201025594174862, 0.792853931542486, 0.8449576995689422, 0.8807874006144703, 0.9081507918536663, 0.9271113863140344, 0.9433307373225689, 0.9573636311292648, 0.9702662495970726, 0.9785065512359142, 0.987817877292633, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]],
# "DSH":[[0.871, 0.762968, 0.7256630000000001, 0.6983853333333333, 0.6272925, 0.566042, 0.5222376666666666, 0.48862771428571433, 0.45709849999999996, 0.42528999999999995, 0.39787300000000003, 0.37535818181818176, 0.35696883333333335, 0.3421613846153846, 0.3292355714285714, 0.31769546666666665, 0.29783950000000003, 0.2803195294117647, 0.2647462222222222, 0.25081221052631575, 0.23827159999999997],[0.00039620685615227556, 0.1753150289070909, 0.33112981347180903, 0.47609067417867484, 0.5648924718424678, 0.6334351216554641, 0.6976188403666019, 0.7576602148711682, 0.8048642756938934, 0.8387077534198761, 0.8683906689584255, 0.8965192613303661, 0.9225433025360107, 0.9495084427595138, 0.9757005196213723, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]],
# "HashNet":[[0.91, 0.88673, 0.865882, 0.8386833333333334, 0.7712915, 0.6953132000000001, 0.6244679999999999, 0.5640568571428571, 0.5149692499999999, 0.47375355555555554, 0.4404852, 0.41273018181818183, 0.38628166666666663, 0.35927030769230767, 0.3364418571428571, 0.31769546666666665, 0.2978395, 0.2803195294117647, 0.2647462222222222, 0.2508122105263158, 0.2382716],[0.0004260890174919041, 0.20663185811438597, 0.3999266886813566, 0.574882876219228, 0.6912322246413678, 0.7662786871269345, 0.8147888449542224, 0.848847522445023, 0.879179663091898, 0.9046528353467583, 0.9298120980001986, 0.9553340461738408, 0.9740754317417741, 0.9808734796345234, 0.9888685742020606, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]],
# "DPN":[[0.895, 0.7360120000000001, 0.653251, 0.6040866666666667, 0.5667375, 0.523708, 0.4952253333333333, 0.46357514285714285, 0.43454575000000006, 0.40812777777777776, 0.38725059999999994, 0.369144, 0.3526493333333333, 0.33849553846153846, 0.3268247142857143, 0.31769546666666665, 0.29783950000000003, 0.28031952941176475, 0.26474622222222216, 0.2508122105263158, 0.23827159999999997],[0.0004218962525919778, 0.16469444352388382, 0.2845868475344032, 0.3868491953611374, 0.4785730063915253, 0.5511054404973984, 0.62379438431561, 0.6823375026285649, 0.733050358325243, 0.775352881282568, 0.8174287235438824, 0.8554923251867295, 0.8891534478664398, 0.9223310177326203, 0.9576717471480369, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]],
# "ISDH":[[0.805, 0.8112579999999999, 0.8099379999999999, 0.80938, 0.7513789999999999, 0.651156, 0.5680913333333334, 0.5095725714285715, 0.46539400000000003, 0.43028533333333335, 0.40249339999999995, 0.3793041818181819, 0.36336699999999994, 0.34559046153846157, 0.3300202857142857, 0.31769546666666665, 0.2978394999999999, 0.28031952941176475, 0.2647462222222222, 0.25081221052631575, 0.23827159999999997],[0.0003799033022223739, 0.1844060902830679, 0.36864698987361044, 0.5529641329939478, 0.6738073091045953, 0.7224075447004289, 0.7491682189796119, 0.7773373818174004, 0.8047719950154424, 0.831048793464899, 0.8579369612634182, 0.8836581569835543, 0.9212359012961387, 0.9468322799801826, 0.9717093120217324, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]],
# }

pr_data = {
    # book 48bits
"MLDHN": [[0.940, 0.928948, 0.914327, 0.891018, 0.7990894999999999, 0.7147736, 0.6403863333333333, 0.5776331428571428,
             0.5261832499999999, 0.4802368888888889, 0.4421976000000001, 0.409672, 0.383153, 0.3578573846153846,
             0.3359764285714285, 0.31769546666666665, 0.29783950000000003, 0.2803195294117647, 0.2647462222222222,
             0.25081221052631575, 0.23827159999999997],
            [0.00037486236353288403, 0.21690016915678278, 0.42415053689526394, 0.6130340372547507, 0.7170989535180852,
             0.7885914239957929, 0.8365138064082712, 0.8711019059028476, 0.8994271743930876, 0.9193062777258456,
             0.9373324853666126, 0.9526349778175354, 0.9693037062436343, 0.9791335853338241, 0.9884159778356552, 1.0,
             1.0, 1.0, 1.0, 1.0, 1.0]],
    "DBDH": [[0.937, 0.917128, 0.9046109999999999, 0.8810979999999999, 0.8000715, 0.7197244, 0.6466066666666667,
              0.5848951428571428, 0.53132875, 0.48546355555555554, 0.44687420000000005, 0.4141341818181818,
              0.3851286666666666, 0.3588444615384616, 0.3360415714285714, 0.31769546666666665, 0.2978395,
              0.2803195294117647, 0.26474622222222216, 0.25081221052631575, 0.2382716],
             [0.00043893998095882123, 0.21496704904182115, 0.42127142995223404, 0.6087758666058071, 0.7208278894070536,
              0.7959831384476275, 0.8463692470025271, 0.8831094647087157, 0.9090620942562818, 0.9286140903905034,
              0.9452560785487294, 0.9601206763647496, 0.9720742210745812, 0.980490635484457, 0.9881103565096855, 1.0,
              1.0, 1.0, 1.0, 1.0, 1.0]],
    "DSH": [
        [0.875, 0.757904, 0.719887, 0.67673, 0.607507, 0.5586756, 0.520235, 0.48697685714285716, 0.45614825000000003,
         0.4303642222222222, 0.40668280000000007, 0.38503763636363636, 0.3658476666666667, 0.3471843076923077,
         0.32985214285714287, 0.31769546666666665, 0.2978395, 0.28031952941176475, 0.2647462222222222,
         0.25081221052631575, 0.23827159999999997],
        [0.0004042109996371437, 0.17484878799878062, 0.32935961411893366, 0.4607115763835609, 0.5426105136722327,
         0.6172679224610329, 0.6829727008491755, 0.7382244508415461, 0.7836464676856995, 0.8257745181024074,
         0.8628086993098258, 0.8963512952327728, 0.9273226255178452, 0.9522014197707176, 0.9735035447478294, 1.0, 1.0,
         1.0, 1.0, 1.0, 1.0]],
    "HashNet": [[0.914, 0.9008860000000002, 0.872968, 0.8399846666666667, 0.771347, 0.6980524, 0.6287206666666666,
                 0.5720022857142857, 0.5230372500000001, 0.4800671111111111, 0.4433918, 0.41299800000000003,
                 0.38625800000000005, 0.35919323076923076, 0.33625142857142853, 0.31769546666666665,
                 0.29783950000000003, 0.2803195294117647, 0.26474622222222216, 0.2508122105263158, 0.2382716],
                [0.00043105702639149965, 0.2106241623724345, 0.40490873085404744, 0.5775521328533069,
                 0.6935809533726424, 0.7719299061968923, 0.8232308746874333, 0.8646228120476007, 0.8968569070883096,
                 0.9203008922748268, 0.9392904859296978, 0.9580845648087561, 0.9746529606878758, 0.9813343736231327,
                 0.9887736420631409, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]],
    "DPN": [
        [0.871, 0.7226780000000002, 0.628894, 0.5725800000000002, 0.5309539999999999, 0.4832944, 0.44370333333333334,
         0.4126154285714285, 0.38688475, 0.3684324444444444, 0.35740380000000005, 0.35013672727272727,
         0.34459433333333334, 0.3352792307692308, 0.32496914285714285, 0.31769546666666665, 0.29783950000000003,
         0.2803195294117647, 0.2647462222222222, 0.2508122105263158, 0.2382716],
        [0.00040561761075514366, 0.16056904374039732, 0.2722835368392989, 0.3663061533495784, 0.44743868873640896,
         0.5090459013655781, 0.5623506926745176, 0.610402703769505, 0.6547978250682354, 0.7000085040926933,
         0.7507354328483343, 0.8053648265600204, 0.862730391830206, 0.9104156782627105, 0.9529737221598625, 1.0, 1.0,
         1.0, 1.0, 1.0, 1.0]],
    "DPN": [
        [0.871, 0.7226780000000002, 0.628894, 0.5725800000000002, 0.5309539999999999, 0.4832944, 0.44370333333333334,
         0.4126154285714285, 0.38688475, 0.3684324444444444, 0.35740380000000005, 0.35013672727272727,
         0.34459433333333334, 0.3352792307692308, 0.32496914285714285, 0.31769546666666665, 0.29783950000000003,
         0.2803195294117647, 0.2647462222222222, 0.2508122105263158, 0.2382716],
        [0.00040561761075514366, 0.16056904374039732, 0.2722835368392989, 0.3663061533495784, 0.44743868873640896,
         0.5090459013655781, 0.5623506926745176, 0.610402703769505, 0.6547978250682354, 0.7000085040926933,
         0.7507354328483343, 0.8053648265600204, 0.862730391830206, 0.9104156782627105, 0.9529737221598625, 1.0, 1.0,
         1.0, 1.0, 1.0, 1.0]],
"ISDH":[[0.911, 0.88284, 0.8634470000000001, 0.8414326666666666, 0.763033, 0.6741904, 0.5987360000000002, 0.5368437142857142, 0.48752599999999996, 0.44852111111111104, 0.418634, 0.3949585454545454, 0.3721528333333333, 0.35051076923076924, 0.3318535714285714, 0.31769546666666665, 0.29783950000000003, 0.2803195294117647, 0.2647462222222222, 0.2508122105263158, 0.23827159999999997],[0.00042839299752085936, 0.20624906571491738, 0.40118705192930065, 0.5817571139812935, 0.6876864782171324, 0.7496331509277224, 0.7896332167685032, 0.8198002038560808, 0.8458826492354273, 0.871387174218893, 0.8992327316999436, 0.9268539263606071, 0.947092769086361, 0.9621264796853065, 0.9770805440545082, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]],

}

# pr_data = {
#     # book 64bits
# "MLDHN":[[0.952, 0.936756, 0.9222530000000001, 0.898806, 0.8329160000000001, 0.7510592000000001, 0.6463099999999999, 0.583394, 0.530489, 0.48447888888888896, 0.4456428, 0.41307636363636363, 0.38520666666666664, 0.3582386153846154, 0.3365621428571428, 0.31769546666666665, 0.2978395, 0.28031952941176475, 0.2647462222222222, 0.25081221052631575, 0.2382716],[0.0004485613561118953, 0.21652412237774116, 0.4233795538931154, 0.6139372869306244, 0.721418932178989, 0.7937754094973206, 0.8420163482241333, 0.8776834834441543, 0.905770746897906, 0.9257538079284131, 0.9421413546949625, 0.9579742508232594, 0.9734165363311768, 0.9799633021950722, 0.9900299250483513, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]],
# "DBDH":[[0.942, 0.924134, 0.910653, 0.8856399999999999, 0.8024565, 0.7223216, 0.6487083333333332, 0.5859128571428572, 0.5328555, 0.48698933333333333, 0.4482176, 0.41530345454545453, 0.38612616666666666, 0.35917276923076924, 0.3366478571428571, 0.31769546666666665, 0.29783950000000003, 0.2803195294117647, 0.2647462222222222, 0.2508122105263158, 0.23827159999999997],[0.00044301304638793225, 0.21693462922069012, 0.42475149013177727, 0.6128891509808599, 0.7243202954176813, 0.7999037048052996, 0.8505450085289776, 0.8866797218248248, 0.9138792413324117, 0.9338520920425654, 0.9501651790738106, 0.9646831924021244, 0.9758713508844375, 0.9822223358750344, 0.9903013115525245, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]],
# "DSH":[[0.778, 0.707682, 0.663606, 0.5841053333333334, 0.5256485, 0.4881156, 0.4562263333333333, 0.4251094285714286, 0.39891724999999995, 0.3774182222222222, 0.3602496, 0.34772200000000003, 0.3392655, 0.3322761538461539, 0.3261001428571429, 0.31769546666666665, 0.29783950000000003, 0.28031952941176475, 0.2647462222222222, 0.2508122105263158, 0.2382716],[0.00035847515120985917, 0.1634496130850166, 0.303805466757156, 0.3958658950850368, 0.47191642206162215, 0.5452548822313548, 0.6076624827980995, 0.6556960038244725, 0.698602887392044, 0.7395389614999295, 0.7807557610571384, 0.822688190817833, 0.8691319079399109, 0.915660494029522, 0.9619714358448982, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]],
# "HashNet":[[0.923, 0.91051, 0.892088, 0.8686759999999999, 0.788858, 0.7107412, 0.6403276666666666, 0.5794385714285715, 0.5280532499999999, 0.4844128888888889, 0.44681300000000007, 0.41492909090909097, 0.3869735000000001, 0.35937876923076917, 0.33607442857142855, 0.31769546666666665, 0.2978395, 0.28031952941176475, 0.26474622222222216, 0.25081221052631575, 0.23827159999999997],[0.00043591007057693787, 0.21335471520852298, 0.4146718225078657, 0.5992629009443335, 0.7106509265396744, 0.7861088525801897, 0.8385549507215619, 0.876058632671833, 0.9050138724371791, 0.9278576878532767, 0.946262842349708, 0.963047912478447, 0.9772394066154957, 0.9822909061610698, 0.9884395483136177, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]],
# "DPN":[[0.879, 0.740302, 0.647762, 0.5878833333333333, 0.5426135, 0.4982132, 0.4548846666666667, 0.4219985714285714, 0.4007165, 0.38358288888888886, 0.36909379999999997, 0.3542749090909091, 0.34196483333333333, 0.3330464615384615, 0.32642457142857145, 0.31769546666666665, 0.2978395, 0.28031952941176475, 0.26474622222222216, 0.25081221052631575, 0.2382716],[0.000408058766668546, 0.1662744932997739, 0.28070720448344944, 0.3745928191523999, 0.45518578796461223, 0.5220707793980837, 0.572442101225257, 0.620020992025733, 0.6714748105108738, 0.7204953372180462, 0.7681022688746453, 0.8100617116093636, 0.8540823510289193, 0.9042310370206833, 0.9569384498000145, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]],
# "ISDH":[[0.911, 0.88284, 0.8634470000000001, 0.8414326666666666, 0.763033, 0.6741904, 0.5987360000000002, 0.5368437142857142, 0.48752599999999996, 0.44852111111111104, 0.418634, 0.3949585454545454, 0.3721528333333333, 0.35051076923076924, 0.3318535714285714, 0.31769546666666665, 0.29783950000000003, 0.2803195294117647, 0.2647462222222222, 0.2508122105263158, 0.23827159999999997],[0.00042839299752085936, 0.20624906571491738, 0.40118705192930065, 0.5817571139812935, 0.6876864782171324, 0.7496331509277224, 0.7896332167685032, 0.8198002038560808, 0.8458826492354273, 0.871387174218893, 0.8992327316999436, 0.9268539263606071, 0.947092769086361, 0.9621264796853065, 0.9770805440545082, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]],
# }

markers = "DdsPvo*xH1234h"
method2marker = {}
i = 0
for method in pr_data:
    method2marker[method] = markers[i]
    i += 1

plt.figure(figsize=(12, 5))
plt.subplot(131)
for method in pr_data:
    P, R = pr_data[method]
    plt.plot(R, P, linestyle="-", marker=method2marker[method], label=method)
plt.grid(True)
plt.xlim(0, 1)
plt.ylim(0, 1)
plt.xlabel('recall')
plt.ylabel('precision')
plt.legend()

plt.subplot(132)
for method in pr_data:
    P, R = pr_data[method]
    plt.plot(draw_range, R, linestyle="-", marker=method2marker[method], label=method)
plt.xlim(0, max(draw_range))
plt.grid(True)
plt.xlabel('The number of retrieved samples')
plt.ylabel('recall')
plt.legend()

plt.subplot(133)
for method in pr_data:
    P, R = pr_data[method]
    plt.plot(draw_range, P, linestyle="-", marker=method2marker[method], label=method)
plt.xlim(0, max(draw_range))
plt.grid(True)
plt.xlabel('The number of retrieved samples')
plt.ylabel('precision')
plt.legend()
plt.savefig("pr.png")
plt.show()